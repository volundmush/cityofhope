# NOTE: UNFINISHED! Do not do this!

# Conversion from TinyMUX to RhostMUSH
Because I'm an idiot and this is a very tedious process, I'm writing down all of the stuff that needs to be done in order to convert the game.

## Helpful Commands
Find a command?
```
@dolist/inline lcon(#2)={@pemit %#=Checking %d0: [name(%d0)];@grep %d0=*,command}
```

## Step ??: Configure Rhost Hardcode
`make confsource` requires Read Mux Passswds and the other things in my softcode repo.

## Step ??: Convert the Database
`cd ~/rhost/Server/convert`
`./do_convert cityofhope.FLAT rhost.out`

(version TinyMUX 2.9+, defaults Y for everything)

`cd ~/rhost/Server/game`
`./db_load data/netrhost.gdbm ~/rhost/Server/convert/rhost.out data/netrhost.db.new`

## Step ??: Tags
```
@tag/add stor=#32
@tag/add cron=#7561
@tag/add wod20=#465
@tag/add cgstatdb=#466
@tag/add dataman=#14
@tag/add datacab=#7981
@tag/add cgcheck=#8062
@tag/add shlocks=#2579
@tag/add census=#2542
@tag/add nightday=#10048
@tag/add phone=#10052
@tag/add eventcom=#8636
@tag/add eventdb=#3033
@tag/add social=#8046
@tag/add socialdb=#8025
@tag/add vending=#5738
@tag/add booksys=#4100
@tag/add bookdb=#4099
@tag/add cleanup=#4024
@tag/add equipsys=#3903
@tag/add equipdb=#3094
@tag/add vampstatus=#2550
```

## Step ??: Fix Sponge
```
@set *sponge=IMMORTAL
```

## Step ??: Locks
Paste in the muxlocks file generated by the converter. use `@cmdquota me=99999` first stupid

## Step ??: Myrddin's MUSHCron
Get latest CRON from [here](https://bitbucket.org/myrddin0/myrddins-mush-code/src/master/Myrddin's%20mushcron/v1.1.0/mushcron.v110.code) and install it in the master room to update existing Cron.


## Step ??: Install RhostSuite 4.0


## Step ??: BBS
Bbpocket is #51
```
&LK.MYRDDIN #bbs_parent=[if(u(CAN%1,%#),%1,#-1)]

@dolist/inline [get(#51/GROUPS)]={@parent %d0=#bbs_parent;@tel %d0=#bbs;@chown/preserve %d0=[owner(tag(bbs_parent))];@dolist/inline READ WRITE={@if strlen(setr(!,get(%d1/CAN%d0),lock))={@switch/first/inline %q<lock>=0,{@lock/user %d0|[switch(%d1,READ,ReadLock,WRITE,PostLock)]=LK.TRUE/0},1,{@@ @lock/user %d0|[switch(%d1,READ,ReadLock,WRITE,PostLock)]=LK.TRUE/1},{@lock/user %d0|[switch(%d1,READ,ReadLock,WRITE,PostLock)]=LK.MYRRDIN/%d1}}}}
```

After making sure everything's working, delete the old BBS.
```
@dolist/inline #51 #52={@set %d0=!SAFE;@destroy/override %d0}
```
